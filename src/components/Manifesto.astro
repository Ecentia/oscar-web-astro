---
---
<section class="manifesto-section" data-bgcolor="#ffffff" data-textcolor="#000000">
    <div class="manifesto-grid">
        <div class="scrolling-text-container">
            <div class="scrolling-text">NO BOUNDARIES — NO GENRES — JUST ENERGY — </div>
        </div>
        
        <div class="image-reveal-mask">
            <img src="/assets/foto_paris.jpg" alt="Oscar in Paris" class="reveal-img">
        </div>

        <p class="manifesto-p">
            La música es un camino de fe. No importa el obstáculo. <br>
            Desde <strong>Londres</strong> hasta <strong>México</strong>.
        </p>
    </div>
</section>

<script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    window.addEventListener('loader-complete', () => {
        gsap.to(".scrolling-text", {
            xPercent: -50, ease: "none",
            scrollTrigger: { trigger: ".manifesto-section", start: "top bottom", end: "bottom top", scrub: 0.5 }
        });

        const mask = document.querySelector('.image-reveal-mask');
        const img = document.querySelector('.reveal-img');

        if (mask && img) {
            const tlReveal = gsap.timeline({
                scrollTrigger: { trigger: mask, start: "top 75%", end: "bottom center", toggleActions: "play none none reverse" }
            });

            tlReveal
            .to(mask, {
                height: "70vh", // CAMBIO: Más altura para que quepa mejor
                duration: 1.2, ease: "power3.inOut"
            })
            .from(img, {
                scale: 1.4, duration: 1.2, ease: "power3.inOut"
            }, 0);
        }
    });
</script>

<style>
    .manifesto-section {
        min-height: 100vh;
        padding: 100px 5vw;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        position: relative;
        overflow: hidden;
    }

    .scrolling-text-container {
        position: absolute; top: 20%; left: -20%; width: 150%; transform: rotate(-5deg); opacity: 0.06; white-space: nowrap; pointer-events: none; z-index: 0;
    }
    .scrolling-text { font-family: var(--font-display); font-size: 20vw; }

    /* --- MÁSCARA --- */
    .image-reveal-mask {
        width: 100%;
        max-width: 400px; /* CAMBIO: Un poco más estrecha para que no sea gigante */
        height: 0;
        margin: 0 auto;
        position: relative;
        overflow: hidden;
        z-index: 2;
        background: #000;
    }

    .reveal-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        /* CAMBIO: Alineado abajo para asegurar que se ven los pies y el cuerpo entero */
        object-position: bottom center;
        display: block;
        filter: grayscale(100%) contrast(1.1);
        transition: filter 0.5s ease, transform 0.5s ease;
    }

    .image-reveal-mask:hover .reveal-img {
        filter: grayscale(0%) contrast(1);
        transform: scale(1.03) !important;
    }

    .manifesto-p {
        font-size: 1.5rem; max-width: 600px; margin-top: 40px; text-align: center; line-height: 1.4; z-index: 2; position: relative;
    }
</style>