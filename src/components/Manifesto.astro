---
---
<section class="manifesto-section" id="manifesto">
    
    <div class="sticky-wrapper">
        
        <!-- PANEL 1: EL VACÍO OSCURO -->
        <div class="panel panel-1">
            <div class="content-box">
                <span class="label">01 — FILOSOFÍA</span>
                <h2 class="huge-text">
                    EL SILENCIO<br>ES EL ÉXITO<br>
                </h2>
            </div>
        </div>

        <!-- PANEL 2: LA IMAGEN (Cubre el Panel 1) -->
        <div class="panel panel-2">
            <div class="img-wrapper">
                <img src="/assets/foto_crowd.jpg" alt="Público" class="panel-img" />
                <div class="img-overlay"></div>
            </div>
            <div class="floating-text">
                <p style="text-transform: uppercase;">Ama a tu familia, trabaja duro, vive tu pasión.</p>
                <p style="text-transform: uppercase;">Crea un viaje, no solo toques música.</p>
            </div>
        </div>

        <!-- PANEL 3: LA LUZ (Cubre el Panel 2) -->
        <div class="panel panel-3">
            <div class="content-box light-mode">
                <span class="label">02 — REALIDAD</span>
                <h2 class="huge-text">
                    PURO<br>IMPACTO
                </h2>
                <button class="action-btn">LEER MÁS</button>
            </div>
        </div>

    </div>

</section>

<script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    const section = document.querySelector('.manifesto-section');
    const panel2 = document.querySelector('.panel-2');
    const panel3 = document.querySelector('.panel-3');
    const img = document.querySelector('.panel-img');

    // Configuración inicial: Paneles 2 y 3 desplazados hacia abajo (fuera de vista)
    gsap.set([panel2, panel3], { yPercent: 100 });
    gsap.set(img, { scale: 1.2 }); // Zoom inicial en la imagen

    ScrollTrigger.create({
        trigger: section,
        start: "top top",
        end: "+=300%", // Scroll largo para dar tiempo a las animaciones
        pin: true,
        scrub: 1, // Suavizado
        onUpdate: (self) => {
            // No necesitamos lógica compleja aquí, usamos el timeline abajo
        },
        animation: gsap.timeline()
            // 1. Panel 2 (Imagen) sube cubriendo el Panel 1
            .to(panel2, { 
                yPercent: 0, 
                ease: "none",
                duration: 1 
            })
            // Efecto Parallax interno en la imagen mientras sube
            .to(img, { 
                scale: 1, 
                ease: "none",
                duration: 1 
            }, "<")
            
            // Pausa visual para ver la foto...
            .to({}, { duration: 0.2 }) 

            // 2. Panel 3 (Blanco) sube cubriendo el Panel 2
            .to(panel3, { 
                yPercent: 0, 
                ease: "none",
                duration: 1 
            })
    });

    // Hover botón
    const btn = document.querySelector('.action-btn');
    if(btn) {
        btn.addEventListener('mouseenter', () => gsap.to(btn, { backgroundColor: "#000", color: "#fff", scale: 1.05 }));
        btn.addEventListener('mouseleave', () => gsap.to(btn, { backgroundColor: "transparent", color: "#000", scale: 1 }));
    }
</script>

<style>
    .manifesto-section {
        width: 100%;
        height: 100vh;
        position: relative;
        overflow: hidden;
        background-color: #000; /* Fondo base seguro */
    }

    .sticky-wrapper {
        width: 100%;
        height: 100%;
        position: relative;
        overflow: hidden;
    }

    .panel {
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        overflow: hidden;
    }

    /* --- PANEL 1: NEGRO --- */
    .panel-1 {
        background-color: #050505;
        color: #fff;
        z-index: 1;
    }

    /* --- PANEL 2: IMAGEN --- */
    .panel-2 {
        z-index: 2;
        /* El fondo es la imagen */
    }

    .img-wrapper {
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
    }

    .panel-img {
        width: 100%; height: 100%;
        object-fit: cover;
        filter: grayscale(100%) contrast(1.1); /* Blanco y negro estricto */
    }

    .img-overlay {
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.3); /* Sombra ligera para texto */
    }

    .floating-text {
        position: relative;
        z-index: 2;
        text-align: center;
        font-family: var(--font-mono, monospace);
        color: #fff;
        font-size: 1.2rem;
        letter-spacing: 0.2em;
        line-height: 2;
        mix-blend-mode: overlay; /* Efecto elegante sobre la foto */
        font-weight: bold;
    }

    /* --- PANEL 3: BLANCO --- */
    .panel-3 {
        background-color: #ffffff;
        color: #000;
        z-index: 3;
    }

    /* --- CONTENIDO --- */
    .content-box {
        text-align: center;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 30px;
        padding: 20px;
    }

    .label {
        font-family: var(--font-mono, monospace);
        font-size: 0.8rem;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        opacity: 0.6;
    }

    .huge-text {
        font-family: var(--font-display, sans-serif);
        font-size: 10vw; /* Ajustado ligeramente para textos más largos en ES */
        line-height: 1.1; /* Aumentado para dar aire (antes 0.85) */
        text-transform: uppercase;
        margin: 0;
        letter-spacing: 0.02em; /* Separado un poco las letras (antes -0.04em) */
    }

    .action-btn {
        margin-top: 40px;
        padding: 15px 50px;
        border: 2px solid #000;
        background: transparent;
        color: #000;
        font-family: var(--font-mono, monospace);
        font-size: 0.9rem;
        text-transform: uppercase;
        cursor: pointer;
        border-radius: 50px;
        transition: all 0.3s ease;
    }

    @media (max-width: 768px) {
        .huge-text { font-size: 14vw; }
        .floating-text { font-size: 0.9rem; padding: 0 20px; }
    }
</style>