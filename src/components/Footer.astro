---
---
<footer class="footer-section" id="footer">
    
    <div class="footer-bg-container">
        <div class="dark-overlay"></div>
        <img src="/assets/foto_crowd.jpg" alt="Crowd Atmosphere" class="footer-image" />
    </div>

    <div class="footer-content">
        
        <div class="marquee-wrapper">
            <div class="marquee-track">
                <span>FRECUENCIA GLOBAL</span> <span class="divider">///</span>
                <span>DISPONIBLE PARA BOOKING</span> <span class="divider">///</span>
                <span>GIRAS MUNDIALES</span> <span class="divider">///</span>
                <span>FRECUENCIA GLOBAL</span> <span class="divider">///</span>
                <span>DISPONIBLE PARA BOOKING</span> <span class="divider">///</span>
                <span>GIRAS MUNDIALES</span> <span class="divider">///</span>
            </div>
        </div>

        <div class="info-container">
            <div class="info-block contact">
                <span class="label">DI HOLA</span>
                <a href="mailto:booking@oscarherrera.com" class="big-link email">
                    booking@<br>oscarherrera.com
                </a>
            </div>

            <div class="info-block socials">
                <span class="label">SÍGUEME</span>
                <div class="social-list">
                    <a href="#" class="social-link">INSTAGRAM <span class="arrow">↗</span></a>
                    <a href="#" class="social-link">SOUNDCLOUD <span class="arrow">↗</span></a>
                    <a href="#" class="social-link">SPOTIFY <span class="arrow">↗</span></a>
                </div>
            </div>

            <div class="info-block action">
                <button id="scrollTopBtn" class="scroll-circle">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 19V5M5 12l7-7 7 7"/>
                    </svg>
                </button>
            </div>
        </div>

        <div class="brand-wrapper">
            <h1 class="giant-name">
                <span class="char">O</span><span class="char">S</span><span class="char">C</span><span class="char">A</span><span class="char">R</span>
                <span class="spacer"> </span>
                <span class="char">H</span><span class="char">E</span><span class="char">R</span><span class="char">R</span><span class="char">E</span><span class="char">R</span><span class="char">A</span>
            </h1>
        </div>

        <div class="legal-row">
            <span>© 2026 OSCAR HERRERA</span>
            <span>TODOS LOS DERECHOS RESERVADOS</span>
        </div>
    </div>
</footer>

<script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    const footer = document.querySelector('.footer-section');
    const footerImage = document.querySelector('.footer-image');
    const marqueeTrack = document.querySelector('.marquee-track');

    // 1. Animación de Entrada SEGURA (usando .from)
    // Esto asegura que el contenido sea visible si JS falla o tarda
    if (footer) {
        const tl = gsap.timeline({
            scrollTrigger: {
                trigger: footer,
                start: "top 75%", // Se activa un poco antes
            }
        });
        tl.from(".giant-name .char", {
            yPercent: 120,
            opacity: 0,
            duration: 1,
            stagger: 0.05,
            ease: "power4.out"
        })
        .from(".info-block", {
            y: 50,
            opacity: 0,
            duration: 0.8,
            stagger: 0.1,
            ease: "power2.out"
        }, "-=0.5");
    }

    // 2. Parallax de Imagen
    if(footerImage) {
        gsap.to(footerImage, {
            yPercent: 20,
            ease: "none",
            scrollTrigger: {
                trigger: footer,
                start: "top bottom",
                end: "bottom bottom",
                scrub: true
            }
        });
    }

    // 3. Marquee Infinito
    if(marqueeTrack) {
        // CAMBIO AQUI: Velocidad adaptativa
        // Si la pantalla es menor de 768px, usamos 8s (rápido), si no 20s (normal)
        const isMobile = window.innerWidth < 768;
        const speed = isMobile ? 8 : 20;

        gsap.to(marqueeTrack, {
            xPercent: -50,
            repeat: -1,
            duration: speed, // Usamos la variable calculada
            ease: "linear"
        });
    }

    // 4. Botón Subir
    document.getElementById('scrollTopBtn')?.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });
</script>

<style>
    .footer-section {
        position: relative;
        background-color: #050505;
        color: #fff;
        min-height: 100vh;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        padding-top: 80px;
    }

    /* Fondo */
    .footer-bg-container {
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        z-index: 0;
        overflow: hidden;
    }

    .footer-image {
        width: 100%; height: 120%;
        object-fit: cover;
        position: absolute; top: -10%; left: 0;
        filter: grayscale(100%) contrast(1.1) brightness(0.6);
    }

    .dark-overlay {
        position: absolute; top: 0; left: 0;
        width: 100%; height: 100%;
        background: linear-gradient(to bottom, #050505 0%, rgba(5,5,5,0.6) 50%, rgba(5,5,5,0.9) 100%);
        z-index: 1;
    }

    /* Contenido */
    .footer-content {
        position: relative;
        z-index: 20;
        padding: 0 4vw 2vw 4vw;
        display: flex;
        flex-direction: column;
        height: 100%;
        justify-content: space-between;
        flex-grow: 1;
    }

    /* Marquee */
    .marquee-wrapper {
        position: absolute;
        top: 0; left: 0; width: 100%;
        border-top: 1px solid rgba(255,255,255,0.1);
        border-bottom: 1px solid rgba(255,255,255,0.1);
        padding: 16px 0;
        overflow: hidden;
        background: rgba(5, 5, 5, 0.3);
        backdrop-filter: blur(5px);
        z-index: 30;
    }

    .marquee-track {
        display: flex;
        white-space: nowrap; gap: 8vw;
        font-family: var(--font-mono, monospace);
        font-size: 1.1rem; font-weight: 700;
        letter-spacing: 0.2em; text-transform: uppercase;
        color: #fff;
        text-shadow: 0 0 10px rgba(255,255,255,0.3);
    }
    
    .divider { color: #ccff00; font-weight: 900;
        margin: 0 20px; }

    /* Info */
    .info-container {
        display: grid;
        grid-template-columns: 1.5fr 1fr auto;
        gap: 40px; margin-top: 120px; align-items: flex-start;
    }

    .label {
        font-family: var(--font-mono, monospace);
        font-size: 0.75rem; color: #aaa;
        margin-bottom: 15px; display: block;
        text-transform: uppercase; letter-spacing: 1px;
    }

    .big-link {
        font-family: var(--font-display, sans-serif);
        font-size: 3.5vw; line-height: 1;
        color: #fff; text-decoration: none;
        transition: color 0.3s;
        text-shadow: 0 0 20px rgba(0,0,0,0.5);
    }
    .big-link:hover { color: #ccc; }

    .social-list { display: flex; flex-direction: column; gap: 10px;
    }

    .social-link {
        font-family: var(--font-display, sans-serif);
        font-size: 1.8rem; color: #fff;
        text-decoration: none; text-transform: uppercase;
        display: flex; align-items: center; gap: 10px;
        transition: transform 0.3s;
        text-shadow: 0 0 10px rgba(0,0,0,0.5);
    }
    .social-link:hover { transform: translateX(10px); color: #ccff00; }

    .arrow { font-size: 1rem; opacity: 0.8;
    }

    /* Scroll Button */
    .scroll-circle {
        width: 100px;
        height: 100px;
        border-radius: 50%; background: #fff;
        color: #000; border: none; cursor: pointer;
        display: flex; align-items: center; justify-content: center;
        transition: 0.3s;
        box-shadow: 0 0 20px rgba(255,255,255,0.2);
    }
    .scroll-circle:hover { transform: scale(1.15); background: #ccff00;
    }
    .scroll-circle svg { width: 30px; height: 30px;
    }

    /* Nombre Gigante */
    .brand-wrapper {
        margin-top: auto;
        padding-top: 60px; overflow: hidden;
    }

    .giant-name {
        font-family: var(--font-display, sans-serif);
        font-size: 16vw; line-height: 0.75;
        text-transform: uppercase; color: #fff;
        display: flex; justify-content: space-between;
        margin: 0; width: 100%; user-select: none;
        text-shadow: 0 0 30px rgba(0,0,0,0.8);
    }

    .char { display: inline-block;
    }

    /* Legal */
    .legal-row {
        display: flex;
        justify-content: space-between;
        border-top: 1px solid rgba(255,255,255,0.2);
        padding-top: 20px; margin-top: 20px;
        font-family: var(--font-mono, monospace);
        font-size: 0.75rem; color: #ccc;
    }

    @media (max-width: 900px) {
        .info-container { grid-template-columns: 1fr;
        gap: 60px; }
        .big-link { font-size: 10vw;
        }
        .giant-name { font-size: 14vw; flex-wrap: wrap; justify-content: center; text-align: center;
        }
        .scroll-circle { position: absolute; top: 80px; right: 20px; width: 60px; height: 60px;
        }
    }
</style>