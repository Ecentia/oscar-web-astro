---
---
<section class="tour-section" data-bgcolor="#FF3333" data-textcolor="#000000">
    
    <div class="bg-typography">
        <div class="giant-text text-world">WORLD</div>
        <div class="giant-text text-mid">FREQUENCY</div>
        <div class="giant-text text-wide">WIDE</div>
        <div class="vertical-text">GLOBAL ENERGY 100%</div>
    </div>

    <div class="sticky-wrapper">
        <h2 class="section-title">TOUR<br>2026</h2>
        
        <div class="cards-container">
            
            <div class="tour-card card-left">
                <video autoplay muted loop playsinline>
                    <source src="/assets/video_mexico.mp4" type="video/mp4">
                </video>
                <div class="card-info">
                    <h3>CDMX</h3>
                    <p>EDC MEXICO</p>
                </div>
            </div>

            <div class="tour-card card-right">
                <video autoplay muted loop playsinline>
                    <source src="/assets/canada.mp4" type="video/mp4">
                </video>
                <div class="card-info">
                    <h3>VANCOUVER</h3>
                    <p>SOLD OUT</p>
                </div>
            </div>

            <div class="tour-card card-center">
                <img src="/assets/foto_dj.jpg" alt="Live Set">
                <div class="card-info">
                    <h3>LIVE</h3>
                    <p>THE ENERGY</p>
                </div>
            </div>

        </div>
    </div>
</section>

<script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    window.addEventListener('loader-complete', () => {
        // 1. AnimaciÃ³n Tarjetas
        const cards = document.querySelectorAll('.tour-card');
        cards.forEach((card) => {
            gsap.fromTo(card, 
                { opacity: 0, y: 100, scale: 0.95 }, 
                {
                    opacity: 1, y: 0, scale: 1,
                    duration: 1, ease: "power3.out",
                    scrollTrigger: {
                        trigger: card,
                        start: "top 90%",
                        end: "top 60%",
                        scrub: 1
                    }
                }
            );
        });

        // 2. Efectos de Fondo
        gsap.to(".text-world", {
            xPercent: 30,
            scrollTrigger: { trigger: ".tour-section", start: "top bottom", end: "bottom top", scrub: 1 }
        });
        gsap.to(".text-mid", {
            xPercent: -15,
            scrollTrigger: { trigger: ".tour-section", start: "top bottom", end: "bottom top", scrub: 1.5 }
        });
        gsap.to(".text-wide", {
            xPercent: 20,
            scrollTrigger: { trigger: ".tour-section", start: "top bottom", end: "bottom top", scrub: 1 }
        });
        gsap.to(".vertical-text", {
            yPercent: -50,
            scrollTrigger: { trigger: ".tour-section", start: "top bottom", end: "bottom top", scrub: 1 }
        });
    });
</script>

<style>
    .tour-section {
        min-height: 250vh; 
        padding: 0 5vw 100px 5vw;
        position: relative;
        overflow: hidden;
    }

    /* --- FONDO --- */
    .bg-typography {
        position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none;
    }
    .giant-text {
        font-family: var(--font-display); font-size: 35vw; position: absolute; line-height: 0.75;
        color: #000000; opacity: 0.25; white-space: nowrap; transform-origin: center;
    }
    .text-world { top: 2%; left: -15%; transform: rotate(-5deg); }
    .text-mid { top: 35%; left: -10%; font-size: 28vw; opacity: 0.15; transform: rotate(5deg); }
    .text-wide { bottom: 5%; right: -10%; text-align: right; transform: rotate(-5deg); }
    .vertical-text {
        position: absolute; top: 10%; right: 2vw; font-family: var(--font-mono); font-size: 3vh;
        writing-mode: vertical-rl; text-orientation: mixed; letter-spacing: 10px; color: #000; opacity: 0.4; font-weight: bold;
    }

    /* --- UI --- */
    .section-title {
        font-family: var(--font-display); font-size: 10vw; position: absolute; top: 0; right: 5vw; z-index: 10;
        pointer-events: none; mix-blend-mode: difference; line-height: 0.8; text-align: right;
    }
    .cards-container {
        display: flex; flex-direction: column; margin-top: 50px; width: 100%; position: relative; z-index: 5;
    }
    .tour-card {
        position: relative; overflow: hidden; border: 1px solid rgba(0,0,0,0.1); transition: transform 0.3s; box-shadow: 0 20px 50px rgba(0,0,0,0.2);
    }
    .tour-card video, .tour-card img {
        width: 100%; height: 100%; object-fit: cover; transition: filter 0.5s, transform 0.7s; filter: grayscale(100%);
    }
    .tour-card:hover video, .tour-card:hover img {
        filter: grayscale(0%); transform: scale(1.05);
    }

    /* --- ENCUADRES Y POSICIONES --- */
    .card-left { width: 45vw; height: 85vh; align-self: flex-start; z-index: 1; }
    .card-right { width: 40vw; height: 80vh; align-self: flex-end; margin-top: -50vh; z-index: 2; }
    
    .card-center { 
        width: 90vw; height: 70vh; align-self: center; margin-top: 10vh; z-index: 3; 
    }
    
    .card-center img { 
        /* CAMBIO: center 25% -> Enfoca el cuarto superior (cabeza/pecho) sin pegarse al techo */
        object-position: center 33%; 
    }

    .card-info {
        position: absolute; bottom: 0; left: 0; background: #fff; color: #000; padding: 15px 30px; font-family: var(--font-mono);
    }
    .card-info h3 {
        font-size: 2rem; font-weight: 700; margin-bottom: 5px; font-family: var(--font-display);
    }
</style>